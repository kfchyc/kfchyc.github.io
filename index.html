<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.2/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ryotrix.dev","root":"/","images":"/images","scheme":"Gemini","version":"8.2.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}};
  </script>
<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://ryotrix.dev/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Lex">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://ryotrix.dev/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>
<title>Hexo</title>
  




  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Hexo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">17</span></a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Lex</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/09/16/iOS%E5%BC%80%E5%8F%91-%E7%B3%BB%E7%BB%9F%E5%92%8C%E6%A1%86%E6%9E%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/16/iOS%E5%BC%80%E5%8F%91-%E7%B3%BB%E7%BB%9F%E5%92%8C%E6%A1%86%E6%9E%B6/" class="post-title-link" itemprop="url">iOS开发-系统和框架</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-09-16 11:14:28 / 修改时间：03:15:50" itemprop="dateCreated datePublished" datetime="2021-09-16T11:14:28+00:00">2021-09-16</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>现在的苹果系统是在某个unix的分支系统的基础上进行构建的（具体哪个我忘了），线程间通信使用端口消息，比较底层的框架是CoreXxx。</p>
<p>负责界面渲染的是CoreAnimation，这一套渲染框架是横跨iOS、macOS等的（tvOS和watchOS相关的开发我还没碰过没了解过，这块不清楚是不是一样）。</p>
<blockquote>
<p>  虽然叫CoreAnimation，但是实际上是负责界面渲染与绘制的框架，请不要被名字误导了。</p>
</blockquote>
<p>在此基础上，不同的系统因为不同的交互方式，有一层负责交互任务处理的封装，在macOS的界面框架AppKit上叫<code>NSView</code>，在iOS的界面框架UIKit上叫做<code>UIView</code>，这一层封装负责处理各个平台不同的交互，渲染任务的处理还是由CoreAnimation负责处理——对应的类叫做<code>CALayer</code>。</p>
<p>对于SwiftUI来讲，他是DSL(Domain Specific Development Language)，从语法设计上可以直接类比XML，HTML，实际上第一层解析的实现和处理是转化为对应的命令式的Swift方法调用来处理的。在不同平台上，具体的SwiftUI的实现是通过不同平台的界面框架来实现的。</p>
<p>SwiftUI的基础代码架构是MVVM，因为它将View通过DSL完全独立开来，数据的引用（数据流、App状态数据，临时状态数据（e.g.控制流参数、界面临时状态））是通过依赖注入的方式加入到View的。</p>
<p>UIKit的基础代码架构是MVC，一个Controller和一个View是绑定在一起的，在不进行代码解耦的情况下，业务流，界面绘制，数据获取与处理等各种操作均在这个Controller层进行处理。View实际上是与Controller紧密结合在一起的。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/09/06/Objective-C-Runtime-%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/06/Objective-C-Runtime-%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">Objective-C Runtime 源码学习</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-09-06 16:46:37" itemprop="dateCreated datePublished" datetime="2021-09-06T16:46:37+00:00">2021-09-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-16 03:15:50" itemprop="dateModified" datetime="2021-09-16T03:15:50+00:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Objective-C-Runtime源码学习"><a href="#Objective-C-Runtime源码学习" class="headerlink" title="Objective-C Runtime源码学习"></a>Objective-C Runtime源码学习</h1><h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><ul>
<li>  <code>Public Headers</code></li>
<li>  <code>Private Headers</code></li>
<li>  <code>Project Headers</code></li>
<li>  <code>Source</code> ( Implementation )</li>
<li>  <code>Obsolete Headers</code></li>
<li>  <code>Obsolete Source</code></li>
</ul>
<h3 id="Runtime的三种调用方式："><a href="#Runtime的三种调用方式：" class="headerlink" title="Runtime的三种调用方式："></a>Runtime的三种调用方式：</h3><p>1、<code>runtime api</code> –&gt; (class_、objc_、object_)<br>2、<code>NSObject api</code> –&gt; (isKindOfClass、isMemberOfClass)<br>3、OC上层方法 –&gt;（@selector）</p>
<h2 id="重点概念及数据结构"><a href="#重点概念及数据结构" class="headerlink" title="重点概念及数据结构"></a>重点概念及数据结构</h2><ol>
<li><p>objc_object</p>
<blockquote>
<p>  Represents an instance of a class.</p>
</blockquote>
<blockquote>
<p>  objc.h</p>
</blockquote>
  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">objc_object</span> &#123;</span></span><br><span class="line">    Class _Nonnull isa  OBJC_ISA_AVAILABILITY;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

</li>
<li><p>id</p>
<blockquote>
<p>  A pointer to an instance of a class.</p>
</blockquote>
<blockquote>
<p>  objc.h</p>
</blockquote>
  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">objc_object</span> *<span class="title">id</span>;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="3">
<li><p>objc_class</p>
<blockquote>
<p>  An opaque type that represents an Objective-C class.</p>
</blockquote>
<blockquote>
<p>  objc.h</p>
</blockquote>
  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">objc_class</span> *<span class="title">Class</span>;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>  runtime.h</p>
</blockquote>
  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">objc_class</span> &#123;</span></span><br><span class="line">    Class _Nonnull isa  OBJC_ISA_AVAILABILITY;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">if</span> !__OBJC2__</span></span><br><span class="line">    Class _Nullable super_class                              OBJC2_UNAVAILABLE;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> * _Nonnull name                               OBJC2_UNAVAILABLE;</span><br><span class="line">    <span class="keyword">long</span> version                                             OBJC2_UNAVAILABLE;</span><br><span class="line">    <span class="keyword">long</span> info                                                OBJC2_UNAVAILABLE;</span><br><span class="line">    <span class="keyword">long</span> instance_size                                       OBJC2_UNAVAILABLE;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">objc_ivar_list</span> * _<span class="title">Nullable</span> <span class="title">ivars</span>                  <span class="title">OBJC2_UNAVAILABLE</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">objc_method_list</span> * _<span class="title">Nullable</span> * _<span class="title">Nullable</span> <span class="title">methodLists</span>                    <span class="title">OBJC2_UNAVAILABLE</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">objc_cache</span> * _<span class="title">Nonnull</span> <span class="title">cache</span>                       <span class="title">OBJC2_UNAVAILABLE</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">objc_protocol_list</span> * _<span class="title">Nullable</span> <span class="title">protocols</span>          <span class="title">OBJC2_UNAVAILABLE</span>;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">&#125; OBJC2_UNAVAILABLE;</span><br><span class="line"><span class="comment">/* Use `Class` instead of `struct objc_class *` */</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="Objc环境初始化"><a href="#Objc环境初始化" class="headerlink" title="Objc环境初始化"></a>Objc环境初始化</h2><ol>
<li>  <code>objc-os.mm</code> L.922 <code>void _objc_init(void)</code></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">void _objc_init(void)</span><br><span class="line">&#123;</span><br><span class="line">    static bool initialized &#x3D; false;</span><br><span class="line">    if (initialized) return;</span><br><span class="line">    initialized &#x3D; true;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F; fixme defer initialization until an objc-using image is found?</span><br><span class="line">    environ_init();</span><br><span class="line">    tls_init();</span><br><span class="line">    static_init();</span><br><span class="line">    runtime_init();</span><br><span class="line">    exception_init();</span><br><span class="line">#if __OBJC2__</span><br><span class="line">    cache_t::init();</span><br><span class="line">#endif</span><br><span class="line">    _imp_implementationWithBlock_init();</span><br><span class="line"></span><br><span class="line">    _dyld_objc_notify_register(&amp;map_images, load_images, unmap_image);</span><br><span class="line"></span><br><span class="line">#if __OBJC2__</span><br><span class="line">    didCallDyldNotifyRegister &#x3D; true;</span><br><span class="line">#endif</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="2">
<li><p><code>environ_init()</code></p>
<p>  <code>objc-runtime.mm</code> L.367</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">void environ_init(void) </span><br><span class="line">&#123;</span><br><span class="line">    if (issetugid()) &#123;</span><br><span class="line">        &#x2F;&#x2F; All environment variables are silently ignored when setuid or setgid</span><br><span class="line">        &#x2F;&#x2F; This includes OBJC_HELP and OBJC_PRINT_OPTIONS themselves.</span><br><span class="line">        return;</span><br><span class="line">    &#125; </span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Turn off autorelease LRU coalescing by default for apps linked against</span><br><span class="line">    &#x2F;&#x2F; older SDKs. LRU coalescing can reorder releases and certain older apps</span><br><span class="line">    &#x2F;&#x2F; are accidentally relying on the ordering.</span><br><span class="line">    &#x2F;&#x2F; rdar:&#x2F;&#x2F;problem&#x2F;63886091</span><br><span class="line">    if (!dyld_program_sdk_at_least(dyld_fall_2020_os_versions))</span><br><span class="line">        DisableAutoreleaseCoalescingLRU &#x3D; true;</span><br><span class="line"></span><br><span class="line">    bool PrintHelp &#x3D; false;</span><br><span class="line">    bool PrintOptions &#x3D; false;</span><br><span class="line">    bool maybeMallocDebugging &#x3D; false;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Scan environ[] directly instead of calling getenv() a lot.</span><br><span class="line">    &#x2F;&#x2F; This optimizes the case where none are set.</span><br><span class="line">    for (char **p &#x3D; *_NSGetEnviron(); *p !&#x3D; nil; p++) &#123;</span><br><span class="line">        if (0 &#x3D;&#x3D; strncmp(*p, &quot;Malloc&quot;, 6)  ||  0 &#x3D;&#x3D; strncmp(*p, &quot;DYLD&quot;, 4)  ||  </span><br><span class="line">            0 &#x3D;&#x3D; strncmp(*p, &quot;NSZombiesEnabled&quot;, 16))</span><br><span class="line">        &#123;</span><br><span class="line">            maybeMallocDebugging &#x3D; true;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (0 !&#x3D; strncmp(*p, &quot;OBJC_&quot;, 5)) continue;</span><br><span class="line">        </span><br><span class="line">        if (0 &#x3D;&#x3D; strncmp(*p, &quot;OBJC_HELP&#x3D;&quot;, 10)) &#123;</span><br><span class="line">            PrintHelp &#x3D; true;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">        if (0 &#x3D;&#x3D; strncmp(*p, &quot;OBJC_PRINT_OPTIONS&#x3D;&quot;, 19)) &#123;</span><br><span class="line">            PrintOptions &#x3D; true;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        if (0 &#x3D;&#x3D; strncmp(*p, &quot;OBJC_DEBUG_POOL_DEPTH&#x3D;&quot;, 22)) &#123;</span><br><span class="line">            SetPageCountWarning(*p + 22);</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        const char *value &#x3D; strchr(*p, &#39;&#x3D;&#39;);</span><br><span class="line">        if (!*value) continue;</span><br><span class="line">        value++;</span><br><span class="line">        </span><br><span class="line">        for (size_t i &#x3D; 0; i &lt; sizeof(Settings)&#x2F;sizeof(Settings[0]); i++) &#123;</span><br><span class="line">            const option_t *opt &#x3D; &amp;Settings[i];</span><br><span class="line">            if ((size_t)(value - *p) &#x3D;&#x3D; 1+opt-&gt;envlen  &amp;&amp;  </span><br><span class="line">                0 &#x3D;&#x3D; strncmp(*p, opt-&gt;env, opt-&gt;envlen))</span><br><span class="line">            &#123;</span><br><span class="line">                *opt-&gt;var &#x3D; (0 &#x3D;&#x3D; strcmp(value, &quot;YES&quot;));</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Special case: enable some autorelease pool debugging</span><br><span class="line">    &#x2F;&#x2F; when some malloc debugging is enabled </span><br><span class="line">    &#x2F;&#x2F; and OBJC_DEBUG_POOL_ALLOCATION is not set to something other than NO.</span><br><span class="line">    if (maybeMallocDebugging) &#123;</span><br><span class="line">        const char *insert &#x3D; getenv(&quot;DYLD_INSERT_LIBRARIES&quot;);</span><br><span class="line">        const char *zombie &#x3D; getenv(&quot;NSZombiesEnabled&quot;);</span><br><span class="line">        const char *pooldebug &#x3D; getenv(&quot;OBJC_DEBUG_POOL_ALLOCATION&quot;);</span><br><span class="line">        if ((getenv(&quot;MallocStackLogging&quot;)</span><br><span class="line">             || getenv(&quot;MallocStackLoggingNoCompact&quot;)</span><br><span class="line">             || (zombie &amp;&amp; (*zombie &#x3D;&#x3D; &#39;Y&#39; || *zombie &#x3D;&#x3D; &#39;y&#39;))</span><br><span class="line">             || (insert &amp;&amp; strstr(insert, &quot;libgmalloc&quot;)))</span><br><span class="line">            &amp;&amp;</span><br><span class="line">            (!pooldebug || 0 &#x3D;&#x3D; strcmp(pooldebug, &quot;YES&quot;)))</span><br><span class="line">        &#123;</span><br><span class="line">            DebugPoolAllocation &#x3D; true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (!os_feature_enabled_simple(objc4, preoptimizedCaches, true)) &#123;</span><br><span class="line">        DisablePreoptCaches &#x3D; true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Print OBJC_HELP and OBJC_PRINT_OPTIONS output.</span><br><span class="line">    if (PrintHelp  ||  PrintOptions) &#123;</span><br><span class="line">        if (PrintHelp) &#123;</span><br><span class="line">            _objc_inform(&quot;Objective-C runtime debugging. Set variable&#x3D;YES to enable.&quot;);</span><br><span class="line">            _objc_inform(&quot;OBJC_HELP: describe available environment variables&quot;);</span><br><span class="line">            if (PrintOptions) &#123;</span><br><span class="line">                _objc_inform(&quot;OBJC_HELP is set&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            _objc_inform(&quot;OBJC_PRINT_OPTIONS: list which options are set&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        if (PrintOptions) &#123;</span><br><span class="line">            _objc_inform(&quot;OBJC_PRINT_OPTIONS is set&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        for (size_t i &#x3D; 0; i &lt; sizeof(Settings)&#x2F;sizeof(Settings[0]); i++) &#123;</span><br><span class="line">            const option_t *opt &#x3D; &amp;Settings[i];            </span><br><span class="line">            if (PrintHelp) _objc_inform(&quot;%s: %s&quot;, opt-&gt;env, opt-&gt;help);</span><br><span class="line">            if (PrintOptions &amp;&amp; *opt-&gt;var) _objc_inform(&quot;%s is set&quot;, opt-&gt;env);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="3">
<li>  <code>tls_init()</code></li>
</ol>
<p><code>objc-runtime.mm</code> L.550</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">void tls_init(void)</span><br><span class="line">&#123;</span><br><span class="line">#if SUPPORT_DIRECT_THREAD_KEYS</span><br><span class="line">    pthread_key_init_np(TLS_DIRECT_KEY, &amp;_objc_pthread_destroyspecific);</span><br><span class="line">#else</span><br><span class="line">    _objc_pthread_key &#x3D; tls_create(&amp;_objc_pthread_destroyspecific);</span><br><span class="line">#endif</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>  <code>static_init()</code></li>
</ol>
<ol start="5">
<li>  <code>runtime_init()</code></li>
</ol>
<p><code>objc-runtime-new.mm</code> L.8520</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">void runtime_init(void)</span><br><span class="line">&#123;</span><br><span class="line">    objc::unattachedCategories.init(32);</span><br><span class="line">    objc::allocatedClasses.init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol start="6">
<li>  <code>exception_init()</code></li>
<li>  <code>cache_t::init()</code></li>
<li>  ``</li>
</ol>
<h2 id="特殊的数据结构"><a href="#特殊的数据结构" class="headerlink" title="特殊的数据结构"></a>特殊的数据结构</h2><ol>
<li><p>DisguisedPtr</p>
<blockquote>
<p>  DisguisedPtr<T> acts like pointer type T*, except the stored value is disguised to hide it from tools like <code>leaks</code>.</p>
<p>  nil is disguised as itself so zero-filled memory works as expected, which means 0x80..00 is also disguised as itself but we don’t care.</p>
<p>  Note that weak_entry_t knows about this encoding.</p>
</blockquote>
  <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DisguisedPtr</span> &#123;</span></span><br><span class="line">    <span class="keyword">uintptr_t</span> value;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="特殊的二进制地址"><a href="#特殊的二进制地址" class="headerlink" title="特殊的二进制地址"></a>特殊的二进制地址</h2><blockquote>
<p>  The low two bits:</p>
</blockquote>
<ol>
<li><p><code>0b00</code>: pointer-aligned DisguisedPtr</p>
<p>  (disguised nil or 0x80..00)</p>
</li>
<li><p>  <code>0b11</code>: any other address</p>
</li>
<li><p>  <code>0b10</code>: mark the out-of-line state</p>
</li>
</ol>
<h2 id="AutoRelease-pool"><a href="#AutoRelease-pool" class="headerlink" title="AutoRelease pool"></a>AutoRelease pool</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><blockquote>
<p>  A thread’s autorelease pool is a stack of pointers.</p>
</blockquote>
<p>一个线程的自动释放池是一个存放指针的栈。</p>
<blockquote>
<p>  Each pointer is either an object ot release, or POOL_BOUNDARY which is an autorelease pool boundary.</p>
</blockquote>
<p>其中的每个指针要么是要释放的对象，要么是自动释放池的标记。</p>
<blockquote>
<p>  A pool token is a pointer to the POOL_BOUNDARY for that pool. When the pool is popped, every object hotter than the sentinel is released.</p>
</blockquote>
<p>pool token是指向该自动释放池标记的指针。当该池弹出时，每个比标记更新( hotter )的对象都会被释放。</p>
<blockquote>
<p>  The stack is divided into a doubly-linkedlist of pages. Pages are added and deleted as necessary.</p>
</blockquote>
<p>自动释放池的栈分成了使用双链表连接起来的数个页。这些页面的添加和删除是惰性的——需要的时候才会被添加/删除，而不是提前生成。</p>
<blockquote>
<p>  Thread-local storage points to the hot page, where newly autoreleased objects are stored.</p>
</blockquote>
<p>线程本地（线程内部）存储指向了活跃的页面——新的自动释放的对象被存储的那一页。</p>
<h2 id="Weak"><a href="#Weak" class="headerlink" title="Weak"></a>Weak</h2><blockquote>
<p>  The weak table is a hash table governed by a single spin lock.</p>
<p>  An allocated blob of memory, most often an object, but under GC any such allocation, may have its address stored in a __weak marked storage location through use of compiler generated write-barriers or hand coded uses of the register weak primitive. Associated with the registration can be a callback block for the case when one of the allocated chunks of memory is reclaimed. </p>
<p>  The table is hashed on the address of the allocated memory. When __weak marked memory changes its reference, we count on the fact that we can still see its previous reference.</p>
<p>  So, in the hash table, indexed by the weakly referenced item, is a list of all locations where this address is currently being stored.</p>
<p>  For ARC, we also keep track of whether an arbitrary object is being deallocated by briefly placing it in the table just prior to invoking dealloc, and removing it via objc_clear_deallocating just prior to memory reclamation.</p>
</blockquote>
<h2 id="方法调用"><a href="#方法调用" class="headerlink" title="方法调用"></a>方法调用</h2><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1guabzh1pqqj60vd0u00v602.jpg" alt="image-20210909135253943"></p>
<ol>
<li><p>消息发送</p>
<p>  <img src="https://tva1.sinaimg.cn/large/008i3skNly1gua7xi96jqj60zi0bywfh02.jpg" alt="消息传递流程"></p>
<ol>
<li>快速查找  <img src="https://tva1.sinaimg.cn/large/008i3skNly1gua81ao3tnj61ps0l0djo02.jpg" alt="img"></li>
<li>慢速查找  <img src="https://tva1.sinaimg.cn/large/008i3skNly1gua81t8ydmj61y40h6tcf02.jpg" alt="img"></li>
</ol>
</li>
<li><p>消息转发</p>
<p>  <img src="https://tva1.sinaimg.cn/large/008i3skNly1gua7wtw39lj60zk0hkjsj02.jpg" alt="消息转发流程"></p>
</li>
</ol>
<h2 id="KVC"><a href="#KVC" class="headerlink" title="KVC"></a>KVC</h2><p>KVC在某种程度上提供了替代存取方法（访问器方法）的方案，不过存取方法终究是个好东西，以至于只要有可能，KVC也尽可能先尝试使用存取方法访问属性。当使用KVC访问属性时，它内部其实做了很多事：<br>1.首先查找有无<property>，set<property>，is<property>等property属性对应的存取方法，若有，则直接使用这些方法;<br>2.若无，则继续查找_<property>，_get<property>，<em>set<property>等方法，若有就使用；<br>3.若查询不到以上任何存取方法，则尝试直接访问实例变量<property>，</em><property>；<br>4.若连该成员变量也访问不到，则会在下面方法中抛出异常。<strong>之所以提供这两个方法，就是让你在因访问不到该属性而程序即将崩掉前，供你重写，在内做些处理，防止程序直接崩掉。</strong><br><code>valueForUndefinedKey:</code>和<code>setValue:forUndefinedKey:</code>方法。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/08/27/iOS-%E7%9A%84%E5%8D%95%E4%BE%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/27/iOS-%E7%9A%84%E5%8D%95%E4%BE%8B/" class="post-title-link" itemprop="url">iOS 的单例</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-27 18:39:19" itemprop="dateCreated datePublished" datetime="2021-08-27T18:39:19+00:00">2021-08-27</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-16 03:15:50" itemprop="dateModified" datetime="2021-09-16T03:15:50+00:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="iOS-中的单例"><a href="#iOS-中的单例" class="headerlink" title="iOS 中的单例"></a>iOS 中的单例</h1><h2 id="什么是单例？为什么要使用单例？"><a href="#什么是单例？为什么要使用单例？" class="headerlink" title="什么是单例？为什么要使用单例？"></a>什么是单例？为什么要使用单例？</h2><ol>
<li>  是什么：单例是一种常用的设计模式。</li>
<li>  目    的：保证系统中某个类只有一个实例且易于访问</li>
<li>  效    果：方便控制实例个数；节约系统资源。</li>
<li>  手    段：</li>
</ol>
<p>按照语言特性的不同，分 <code>Objective-C</code> 和 <code>Swift</code> 两块来讲。</p>
<h2 id="Objective-C-中的单例"><a href="#Objective-C-中的单例" class="headerlink" title="Objective-C 中的单例"></a><code>Objective-C</code> 中的单例</h2>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/08/18/iOS-Learning-Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/18/iOS-Learning-Notes/" class="post-title-link" itemprop="url">iOS_Learning_Notes</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-18 16:43:57" itemprop="dateCreated datePublished" datetime="2021-08-18T16:43:57+00:00">2021-08-18</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-16 03:15:50" itemprop="dateModified" datetime="2021-09-16T03:15:50+00:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="iOS-Learning-Notes"><a href="#iOS-Learning-Notes" class="headerlink" title="iOS Learning Notes"></a>iOS Learning Notes</h1><h2 id="LLVM"><a href="#LLVM" class="headerlink" title="LLVM"></a>LLVM</h2><h3 id="Clang"><a href="#Clang" class="headerlink" title="Clang"></a>Clang</h3><h4 id="STEP"><a href="#STEP" class="headerlink" title="STEP"></a>STEP</h4><ol>
<li><p>预处理 pre-process：</p>
<p>  include 扩展、标记化处理、去除注释、条件编译、宏删除、宏替换。对<code>C</code>输出<code>.i</code>, 对<code>C++</code>输出 <code>.ii</code>, 对 OC 输出 <code>.mi</code>, 对<code>Objective-C++ </code>输出 <code>.mii</code>；</p>
</li>
<li><p>词法分析 lexical analysis：</p>
<p>  lexer 将代码切成一个个 token，比如大小括号，等于号还有字符串等。是计算机科学中将字符序列转换为标记序列的过程；</p>
</li>
<li><p>  语法分析（Semantic Analysis）：验证语法是否正确，然后将所有节点组成抽象语法树 AST 。由 Clang 中 Parser 和 Sema 配合完成；</p>
</li>
<li><p>  静态分析（Static Analysis）：使用它来表示用于分析源代码以便自动发现错误；</p>
</li>
<li><p>  中间代码生成（Code Generation）：开始 IR 中间代码的生成了，CodeGen 会负责将语法树自顶向下遍历逐步翻译成 LLVM IR。</p>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/08/16/English-Learning-Note-about-Computing-Science/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/16/English-Learning-Note-about-Computing-Science/" class="post-title-link" itemprop="url">English Learning Note about Computing Science</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-16 11:11:47" itemprop="dateCreated datePublished" datetime="2021-08-16T11:11:47+00:00">2021-08-16</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-16 03:15:50" itemprop="dateModified" datetime="2021-09-16T03:15:50+00:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="English-Learning-Note-about-Computing-Science"><a href="#English-Learning-Note-about-Computing-Science" class="headerlink" title="English Learning Note about Computing Science"></a>English Learning Note about Computing Science</h1><h2 id="Phrases"><a href="#Phrases" class="headerlink" title="Phrases"></a>Phrases</h2><ol>
<li><p>  <code>Floating-point precision errors</code> : 浮点精度误差</p>
</li>
<li><blockquote>
<p>  under-the-hood enhancements and bug fixes</p>
</blockquote>
<p>  <code>under-the-hood</code> : 指无感知 / 不可见</p>
</li>
<li><p><code>take accuracy into account</code> : 考虑到准确性</p>
<p>  <code>take sth. into account</code> : 考虑某事</p>
</li>
<li><p>  <code>gain a vague understanding of</code> : 对某事有模糊的理解</p>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/08/16/ARM-Compiling-Learning-Note/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/16/ARM-Compiling-Learning-Note/" class="post-title-link" itemprop="url">ARM Compiling Learning Note</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-08-16 11:10:16" itemprop="dateCreated datePublished" datetime="2021-08-16T11:10:16+00:00">2021-08-16</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-16 03:15:50" itemprop="dateModified" datetime="2021-09-16T03:15:50+00:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ARM-汇编"><a href="#ARM-汇编" class="headerlink" title="ARM 汇编"></a>ARM 汇编</h1><ol>
<li>  寄存器用方括号括起来代表寄存器内存储的指针所指向的地址的内存中存储的值。</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/05/14/GeneralDevSnippetsAndTips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/05/14/GeneralDevSnippetsAndTips/" class="post-title-link" itemprop="url">GeneralDevSnippetsAndTips</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-14 17:30:30" itemprop="dateCreated datePublished" datetime="2021-05-14T17:30:30+00:00">2021-05-14</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-16 03:15:50" itemprop="dateModified" datetime="2021-09-16T03:15:50+00:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="开发通用常用代码块和知识点"><a href="#开发通用常用代码块和知识点" class="headerlink" title="开发通用常用代码块和知识点"></a>开发通用常用代码块和知识点</h2><blockquote>
<p>部分来源</p>
</blockquote>
<h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><h4 id="Tag"><a href="#Tag" class="headerlink" title="Tag"></a>Tag</h4><ol>
<li><p>向远程 Repository 添加 tag</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -m <span class="string">&quot;注释内容&quot;</span> 0.0.1</span><br><span class="line">git push --tags</span><br></pre></td></tr></table></figure></li>
<li><p>删除本地 tag</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag --delete [TagName]</span><br></pre></td></tr></table></figure>

<p>e.g.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag --delete 0.0.1</span><br></pre></td></tr></table></figure></li>
<li><p>删除远程 tag</p>
<blockquote>
<p>如果删除 tag 后，想重新打一个相同的 tag，需要先删除本地的 tag，否则会失败。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --delete origin [TagName]</span><br></pre></td></tr></table></figure>

<p>e.g.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --delete origin 0.0.1</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/05/07/iOSErrorCodeList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/05/07/iOSErrorCodeList/" class="post-title-link" itemprop="url">iOSErrorCodeList</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-07 17:20:50" itemprop="dateCreated datePublished" datetime="2021-05-07T17:20:50+00:00">2021-05-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-16 03:15:50" itemprop="dateModified" datetime="2021-09-16T03:15:50+00:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="iOSErrorCodeList"><a href="#iOSErrorCodeList" class="headerlink" title="iOSErrorCodeList"></a>iOSErrorCodeList</h1><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-1 <code>NSURLErrorUnknown</code></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">1 <code>kCFHostErrorHostNotFound</code></td>
<td align="left">Indicates that the DNS lookup failed.</td>
</tr>
<tr>
<td align="left">2 <code>kCFHostErrorUnknown</code></td>
<td align="left">An unknown error occurred (a name server failure, for example). For additional information, query the kCFGetAddrInfoFailureKey to get the value returned from getaddrinfo; lookup in netdb.h</td>
</tr>
<tr>
<td align="left">100 <code>kCFSOCKSErrorUnknownClientVersion</code></td>
<td align="left">The SOCKS server rejected access because it does not support connections with the requested SOCKS version.Query kCFSOCKSStatusCodeKey to recover the status code returned by the server.</td>
</tr>
<tr>
<td align="left">101 <code>kCFSOCKSErrorUnsupportedServerVersion</code></td>
<td align="left">The version of SOCKS requested by the server is not supported. Query kCFSOCKSStatusCodeKey to recover the status code returned by the server.  Query the kCFSOCKSVersionKey to find the version requested by the server.</td>
</tr>
</tbody></table>
<h2 id="Sock4-Errors"><a href="#Sock4-Errors" class="headerlink" title="Sock4 Errors"></a>Sock4 Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">110 <code>kCFSOCKS4ErrorRequestFailed</code></td>
<td align="left">Request rejected or failed by the server.</td>
</tr>
<tr>
<td align="left">111 <code>kCFSOCKS4ErrorIdentdFailed</code></td>
<td align="left">Request rejected because SOCKS server cannot connect to identd on the client.</td>
</tr>
<tr>
<td align="left">112 <code>kCFSOCKS4ErrorIdConflict</code></td>
<td align="left">Request rejected because the client program and identd report different user-ids.</td>
</tr>
<tr>
<td align="left">113 <code>kCFSOCKS4ErrorUnknownStatusCode</code></td>
<td align="left">The status code returned by the server is unknown.</td>
</tr>
</tbody></table>
<h2 id="Socks5-Errors"><a href="#Socks5-Errors" class="headerlink" title="Socks5 Errors"></a>Socks5 Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">120 <code>kCFSOCKS5ErrorBadState</code></td>
<td align="left">The stream is not in a state that allows the requested operation.</td>
</tr>
<tr>
<td align="left">121 <code>kCFSOCKS5ErrorBadResponseAddr</code></td>
<td align="left">The address type returned is not supported.</td>
</tr>
<tr>
<td align="left">122 <code>kCFSOCKS5ErrorBadCredentials</code></td>
<td align="left">The SOCKS server refused the client connection because of bad login credentials.</td>
</tr>
<tr>
<td align="left">123 <code>kCFSOCKS5ErrorUnsupportedNegotiationMethod</code></td>
<td align="left">The requested method is not supported. Query kCFSOCKSNegotiationMethodKey to find the method requested.</td>
</tr>
<tr>
<td align="left">124 <code>kCFSOCKS5ErrorNoAcceptableMethod</code></td>
<td align="left">The client and server could not find a mutually agreeable authentication method.</td>
</tr>
</tbody></table>
<h2 id="FTP-Errors"><a href="#FTP-Errors" class="headerlink" title="FTP Errors"></a>FTP Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">200 <code>kCFFTPErrorUnexpectedStatusCode</code></td>
<td align="left">The server returned an unexpected status code. Query the kCFFTPStatusCodeKey to get the status code returned by the server</td>
</tr>
</tbody></table>
<h2 id="HTTP-Errors"><a href="#HTTP-Errors" class="headerlink" title="HTTP Errors"></a>HTTP Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">300 <code>kCFErrorHTTPAuthenticationTypeUnsupported</code></td>
<td align="left">The client and server could not agree on a supported authentication type.</td>
</tr>
<tr>
<td align="left">301 <code>kCFErrorHTTPBadCredentials</code></td>
<td align="left">The credentials provided for an authenticated connection were rejected by the server.</td>
</tr>
<tr>
<td align="left">302 <code>kCFErrorHTTPConnectionLost</code></td>
<td align="left">The connection to the server was dropped. This usually indicates a highly overloaded server.</td>
</tr>
<tr>
<td align="left">303 <code>kCFErrorHTTPParseFailure</code></td>
<td align="left">The HTTP server response could not be parsed.</td>
</tr>
<tr>
<td align="left">304 <code>kCFErrorHTTPRedirectionLoopDetected</code></td>
<td align="left">Too many HTTP redirects occurred before reaching a page that did not redirect the client to another page. This usually indicates a redirect loop.</td>
</tr>
<tr>
<td align="left">305 <code>kCFErrorHTTPBadURL</code></td>
<td align="left">The requested URL could not be retrieved.</td>
</tr>
<tr>
<td align="left">306 <code>kCFErrorHTTPProxyConnectionFailure</code></td>
<td align="left">A connection could not be established to the HTTP proxy.</td>
</tr>
<tr>
<td align="left">307 <code>kCFErrorHTTPBadProxyCredentials</code></td>
<td align="left">The authentication credentials provided for logging into the proxy were rejected.</td>
</tr>
<tr>
<td align="left">308 <code>kCFErrorPACFileError</code></td>
<td align="left">An error occurred with the proxy autoconfiguration file.</td>
</tr>
<tr>
<td align="left">309 <code>kCFErrorPACFileAuth</code></td>
<td align="left">The authentication credentials provided by the proxy autoconfiguration file were rejected.</td>
</tr>
<tr>
<td align="left">310 <code>kCFErrorHTTPSProxyConnectionFailure</code></td>
<td align="left">A connection could not be established to the HTTPS proxy.</td>
</tr>
<tr>
<td align="left">311 <code>kCFStreamErrorHTTPSProxyFailureUnexpectedResponseToCONNECTMethod</code></td>
<td align="left">The HTTPS proxy returned an unexpected status code, such as a 3xx redirect.</td>
</tr>
</tbody></table>
<h2 id="CFURLConnection-amp-CFURLProtocol-Errors"><a href="#CFURLConnection-amp-CFURLProtocol-Errors" class="headerlink" title="CFURLConnection &amp; CFURLProtocol Errors"></a>CFURLConnection &amp; CFURLProtocol Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-998 <code>kCFURLErrorUnknown</code></td>
<td align="left">An unknown error occurred.</td>
</tr>
<tr>
<td align="left">-999 <code>kCFURLErrorCancelled</code> <code>NSURLErrorCancelled</code></td>
<td align="left">The connection was cancelled.</td>
</tr>
<tr>
<td align="left">-1000 <code>kCFURLErrorBadURL</code> <code>NSURLErrorBadURL</code></td>
<td align="left">The connection failed due to a malformed URL.</td>
</tr>
<tr>
<td align="left">-1001 <code>kCFURLErrorTimedOut</code> <code>NSURLErrorTimedOut</code></td>
<td align="left">The connection timed out.</td>
</tr>
<tr>
<td align="left">-1002 <code>kCFURLErrorUnsupportedURL</code> <code>NSURLErrorUnsupportedURL</code></td>
<td align="left">The connection failed due to an unsupported URL scheme.</td>
</tr>
<tr>
<td align="left">-1003 <code>kCFURLErrorCannotFindHost</code> <code>NSURLErrorCannotFindHost</code></td>
<td align="left">The connection failed because the host could not be found.</td>
</tr>
<tr>
<td align="left">-1004 <code>kCFURLErrorCannotConnectToHost</code> <code>NSURLErrorCannotConnectToHost</code></td>
<td align="left">The connection failed because a connection cannot be made to the host.</td>
</tr>
<tr>
<td align="left">-1005 <code>kCFURLErrorNetworkConnectionLost</code> <code>NSURLErrorNetworkConnectionLost</code></td>
<td align="left">The connection failed because the network connection was lost.</td>
</tr>
<tr>
<td align="left">-1006 <code>kCFURLErrorDNSLookupFailed</code> <code>NSURLErrorDNSLookupFailed</code></td>
<td align="left">The connection failed because the DNS lookup failed.</td>
</tr>
<tr>
<td align="left">-1007 <code>kCFURLErrorHTTPTooManyRedirects</code> <code>NSURLErrorHTTPTooManyRedirects</code></td>
<td align="left">The HTTP connection failed due to too many redirects.</td>
</tr>
<tr>
<td align="left">-1008 <code>kCFURLErrorResourceUnavailable</code> <code>NSURLErrorResourceUnavailable</code></td>
<td align="left">The connection’s resource is unavailable.</td>
</tr>
<tr>
<td align="left">-1009 <code>kCFURLErrorNotConnectedToInternet</code> <code>NSURLErrorNotConnectedToInternet</code></td>
<td align="left">The connection failed because the device is not connected to the internet.</td>
</tr>
<tr>
<td align="left">-1010 <code>kCFURLErrorRedirectToNonExistentLocation</code> <code>NSURLErrorRedirectToNonExistentLocation</code></td>
<td align="left">The connection was redirected to a nonexistent location.</td>
</tr>
<tr>
<td align="left">-1011 <code>kCFURLErrorBadServerResponse</code> <code>NSURLErrorBadServerResponse</code></td>
<td align="left">The connection received an invalid server response.</td>
</tr>
<tr>
<td align="left">-1012 <code>kCFURLErrorUserCancelledAuthentication</code> <code>NSURLErrorUserCancelledAuthentication</code></td>
<td align="left">The connection failed because the user cancelled required authentication.</td>
</tr>
<tr>
<td align="left">-1013 <code>kCFURLErrorUserAuthenticationRequired</code> <code>NSURLErrorUserAuthenticationRequired</code></td>
<td align="left">The connection failed because authentication is required.</td>
</tr>
<tr>
<td align="left">-1014 <code>kCFURLErrorZeroByteResource</code> <code>NSURLErrorZeroByteResource</code></td>
<td align="left">The resource retrieved by the connection is zero bytes.</td>
</tr>
<tr>
<td align="left">-1015 <code>kCFURLErrorCannotDecodeRawData</code> <code>NSURLErrorCannotDecodeRawData</code></td>
<td align="left">The connection cannot decode data encoded with a known content encoding.</td>
</tr>
<tr>
<td align="left">-1016 <code>kCFURLErrorCannotDecodeContentData</code> <code>NSURLErrorCannotDecodeContentData</code></td>
<td align="left">The connection cannot decode data encoded with an unknown content encoding.</td>
</tr>
<tr>
<td align="left">-1017 <code>kCFURLErrorCannotParseResponse</code> <code>NSURLErrorCannotParseResponse</code></td>
<td align="left">The connection cannot parse the server’s response.</td>
</tr>
<tr>
<td align="left">-1018 <code>kCFURLErrorInternationalRoamingOff</code></td>
<td align="left">The connection failed because international roaming is disabled on the device.</td>
</tr>
<tr>
<td align="left">-1019 <code>kCFURLErrorCallIsActive</code></td>
<td align="left">The connection failed because a call is active.</td>
</tr>
<tr>
<td align="left">-1020 <code>kCFURLErrorDataNotAllowed</code></td>
<td align="left">The connection failed because data use is currently not allowed on the device.</td>
</tr>
<tr>
<td align="left">-1021 <code>kCFURLErrorRequestBodyStreamExhausted</code></td>
<td align="left">The connection failed because its request’s body stream was exhausted.</td>
</tr>
</tbody></table>
<h2 id="File-Errors"><a href="#File-Errors" class="headerlink" title="File Errors"></a>File Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-1100 <code>kCFURLErrorFileDoesNotExist</code> <code>NSURLErrorFileDoesNotExist</code></td>
<td align="left">The file operation failed because the file does not exist.</td>
</tr>
<tr>
<td align="left">-1101 <code>kCFURLErrorFileIsDirectory</code> <code>NSURLErrorFileIsDirectory</code></td>
<td align="left">The file operation failed because the file is a directory.</td>
</tr>
<tr>
<td align="left">-1102 <code>kCFURLErrorNoPermissionsToReadFile</code> <code>NSURLErrorNoPermissionsToReadFile</code></td>
<td align="left">The file operation failed because it does not have permission to read the file.</td>
</tr>
<tr>
<td align="left">-1103 <code>kCFURLErrorDataLengthExceedsMaximum</code> <code>NSURLErrorDataLengthExceedsMaximum</code></td>
<td align="left">The file operation failed because the file is too large.</td>
</tr>
</tbody></table>
<h2 id="SSL-Errors"><a href="#SSL-Errors" class="headerlink" title="SSL Errors"></a>SSL Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-1200 <code>kCFURLErrorSecureConnectionFailed</code> <code>NSURLErrorSecureConnectionFailed</code></td>
<td align="left">The secure connection failed for an unknown reason.</td>
</tr>
<tr>
<td align="left">-1201 <code>kCFURLErrorServerCertificateHasBadDate</code> <code>NSURLErrorServerCertificateHasBadDate</code></td>
<td align="left">The secure connection failed because the server’s certificate has an invalid date.</td>
</tr>
<tr>
<td align="left">-1202 <code>kCFURLErrorServerCertificateUntrusted</code> <code>NSURLErrorServerCertificateUntrusted</code></td>
<td align="left">The secure connection failed because the server’s certificate is not trusted.</td>
</tr>
<tr>
<td align="left">-1203 <code>kCFURLErrorServerCertificateHasUnknownRoot</code> <code>NSURLErrorServerCertificateHasUnknownRoot</code></td>
<td align="left">The secure connection failed because the server’s certificate has an unknown root.</td>
</tr>
<tr>
<td align="left">-1204 <code>kCFURLErrorServerCertificateNotYetValid</code> <code>NSURLErrorServerCertificateNotYetValid</code></td>
<td align="left">The secure connection failed because the server’s certificate is not yet valid.</td>
</tr>
<tr>
<td align="left">-1205 <code>kCFURLErrorClientCertificateRejected</code> <code>NSURLErrorClientCertificateRejected</code></td>
<td align="left">The secure connection failed because the client’s certificate was rejected.</td>
</tr>
<tr>
<td align="left">-1206 <code>kCFURLErrorClientCertificateRequired</code> <code>NSURLErrorClientCertificateRequired</code></td>
<td align="left">The secure connection failed because the server requires a client certificate.</td>
</tr>
</tbody></table>
<h2 id="Download-and-File-I-O-Errors"><a href="#Download-and-File-I-O-Errors" class="headerlink" title="Download and File I/O Errors"></a>Download and File I/O Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-2000 <code>kCFURLErrorCannotLoadFromNetwork</code> <code>NSURLErrorCannotLoadFromNetwork</code></td>
<td align="left">The connection failed because it is being required to return a cached resource, but one is not available.</td>
</tr>
<tr>
<td align="left">-3000 <code>kCFURLErrorCannotCreateFile</code> <code>NSURLErrorCannotCreateFile</code></td>
<td align="left">The file cannot be created.</td>
</tr>
<tr>
<td align="left">-3001 <code>kCFURLErrorCannotOpenFile</code> <code>NSURLErrorCannotOpenFile</code></td>
<td align="left">The file cannot be opened.</td>
</tr>
<tr>
<td align="left">-3002 <code>kCFURLErrorCannotCloseFile</code> <code>NSURLErrorCannotCloseFile</code></td>
<td align="left">The file cannot be closed.</td>
</tr>
<tr>
<td align="left">-3003 <code>kCFURLErrorCannotWriteToFile</code> <code>NSURLErrorCannotWriteToFile</code></td>
<td align="left">The file cannot be written.</td>
</tr>
<tr>
<td align="left">-3004 <code>kCFURLErrorCannotRemoveFile</code> <code>NSURLErrorCannotRemoveFile</code></td>
<td align="left">The file cannot be removed.</td>
</tr>
<tr>
<td align="left">-3005 <code>kCFURLErrorCannotMoveFile</code> <code>NSURLErrorCannotMoveFile</code></td>
<td align="left">The file cannot be moved.</td>
</tr>
<tr>
<td align="left">-3006 <code>kCFURLErrorDownloadDecodingFailedMidStream</code> <code>NSURLErrorDownloadDecodingFailedMidStream</code></td>
<td align="left">The download failed because decoding of the downloaded data failed mid-stream.</td>
</tr>
<tr>
<td align="left">-3007 <code>kCFURLErrorDownloadDecodingFailedToComplete</code> <code>NSURLErrorDownloadDecodingFailedToComplete</code></td>
<td align="left">The download failed because decoding of the downloaded data failed to complete.</td>
</tr>
</tbody></table>
<h2 id="Cookie-Errors"><a href="#Cookie-Errors" class="headerlink" title="Cookie Errors"></a>Cookie Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-4000 <code>kCFHTTPCookieCannotParseCookieFile</code></td>
<td align="left">The cookie file cannot be parsed.</td>
</tr>
</tbody></table>
<h2 id="CFNetServices-Errors"><a href="#CFNetServices-Errors" class="headerlink" title="CFNetServices Errors"></a>CFNetServices Errors</h2><table>
<thead>
<tr>
<th align="left">Code</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-72000L <code>kCFNetServiceErrorUnknown</code></td>
<td align="left">An unknown error occurred.</td>
</tr>
<tr>
<td align="left">-72001L <code>kCFNetServiceErrorCollision</code></td>
<td align="left">An attempt was made to use a name that is already in use.</td>
</tr>
<tr>
<td align="left">-72002L <code>kCFNetServiceErrorNotFound</code></td>
<td align="left">Not used.</td>
</tr>
<tr>
<td align="left">-72003L <code>kCFNetServiceErrorInProgress</code></td>
<td align="left">A new search could not be started because a search is already in progress.</td>
</tr>
<tr>
<td align="left">-72004L <code>kCFNetServiceErrorBadArgument</code></td>
<td align="left">A required argument was not provided or was not valid.</td>
</tr>
<tr>
<td align="left">-72005L <code>kCFNetServiceErrorCancel</code></td>
<td align="left">The search or service was cancelled.</td>
</tr>
<tr>
<td align="left">-72006L <code>kCFNetServiceErrorInvalid</code></td>
<td align="left">Invalid data was passed to a CFNetServices function.</td>
</tr>
<tr>
<td align="left">-72007L <code>kCFNetServiceErrorTimeout</code></td>
<td align="left">A search failed because it timed out.</td>
</tr>
<tr>
<td align="left">-73000L <code>kCFNetServiceErrorDNSServiceFailure</code></td>
<td align="left">An error from DNS discovery; look at kCFDNSServiceFailureKey to get the error number and interpret using dnssd.h</td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/04/27/iOSCodeTips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/27/iOSCodeTips/" class="post-title-link" itemprop="url">iOSCodeTips</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-27 17:58:07" itemprop="dateCreated datePublished" datetime="2021-04-27T17:58:07+00:00">2021-04-27</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-16 03:15:50" itemprop="dateModified" datetime="2021-09-16T03:15:50+00:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="iOS-Code-Tips-acknowledge"><a href="#iOS-Code-Tips-acknowledge" class="headerlink" title="iOS Code Tips ( acknowledge )"></a>iOS Code Tips ( acknowledge )</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://nshipster.cn/">https://nshipster.cn</a></p>
</blockquote>
<h2 id="编译器优化"><a href="#编译器优化" class="headerlink" title="编译器优化"></a>编译器优化</h2><h3 id="attribute"><a href="#attribute" class="headerlink" title="__attribute__"></a><code>__attribute__</code></h3><p>方法签名后，通过<code>__attribute__((&lt;#标志#&gt;))</code>来进行注释。</p>
<h4 id="pure-和-const"><a href="#pure-和-const" class="headerlink" title="pure 和 const"></a>pure 和 const</h4><p>e.g. 1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; pure 代表该函数除了使用了传入参数和&#x2F;或全局变量外没有其他副作用。</span><br><span class="line">- (NSString *)todayDisplayedText __attribute__((pure));</span><br></pre></td></tr></table></figure>

<p>e.g. 2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; const 表明该函数出了传入参数外不依赖于任何东西，这个函数的结果可以被缓存起来。后面调用时若参数相同，可以直接返回缓存的结果。</span><br><span class="line">&#x2F;&#x2F; 在这个示例中，一个数的平方值计算总是固定的，不依赖于其他变量或指针。</span><br><span class="line">int square(int n) __attribute__((const));</span><br></pre></td></tr></table></figure>

<h4 id="unused"><a href="#unused" class="headerlink" title="unused"></a>unused</h4><blockquote>
<p>当对一个函数增加了这个声明时，意味着这个函数可能不被使用，GCC不会对这个函数产生警告。</p>
</blockquote>
<p>使用 <code>__unused</code> 关键字可以达到同样的效果，可以在方法实现中声明没有被使用的参数。通过了解这个上下文，编译器可以进行相应的优化。你更可能会在 delegate 的方法实现里使用 <code>__unused</code>，因为 protocols 为了支持更多可能的用例经常会提供必要的参数之外的上下文。</p>
<h4 id="availability"><a href="#availability" class="headerlink" title="availability"></a>availability</h4><p>e.g.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void f(void) __attribute__((availability(macosx, introduced&#x3D;10.4, deprecated&#x3D;10.6, obsolited&#x3D;10.7)));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>availability 属性是一个用逗号分隔的列表，第一项是平台名称，然后是可选的生命周期当中重要的里程碑时间，最后是额外信息。</p>
</blockquote>
<ul>
<li>availability 声明被引入的第一个版本</li>
<li>deprecated 声明被废弃的第一个版本，意味着用户应当从这个 API 迁移到另外的方法</li>
<li>obsoleted 声明被废弃的第一个版本，意味着被彻底删除不能使用了</li>
<li>unavailable 声明在这个平台上从来就是不可用的</li>
<li>message 额外的文本信息，Clang 在对于废弃和淘汰声明给出警告或者错误的时候会提供这些信息，可以用于指导用户进行 API 替换</li>
</ul>
<blockquote>
<p>在同一个声明上可以添加多个可用性属性，它们可能是针对不同平台的。只有当前和目标平台对应的平台可用性属性会发挥作用，其他的属性会被忽略掉。如果没有和当前目标苹果对应的可用性属性，整个可用性属性会被忽略。</p>
</blockquote>
<h5 id="支持的平台"><a href="#支持的平台" class="headerlink" title="支持的平台"></a>支持的平台</h5><ul>
<li><code>ios</code>: 苹果 iOS 操作系统。最低的部署目标通过 <code>-mios-version-min=*version*</code>或者 <code>-miphoneos-version-min=*version*</code> 命令行参数指定。</li>
<li><code>macosx</code>: 苹果 OS X 操作系统。最低的部署目标通过 <code>-mmacosx-version-min=*version*</code> 命令行参数指定。</li>
</ul>
<h4 id="overloadable"><a href="#overloadable" class="headerlink" title="overloadable"></a>overloadable</h4><blockquote>
<p>Clang 在 C 语言中提供了 C++ 函数重载支持，通过 <code>overloadable</code> 这个属性实现。例如我们要提供多个不同重载版本的 <code>tgsin</code> 函数，它会调用合适的标准库函数，分别提供对 <code>float</code>，<code>double</code> 和 <code>long double</code> 精度的值计算 <code>sine</code>值。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;math.h&gt;</span><br><span class="line">float __attribute__((overloadable)) tgsin(float x) &#123; return sinf(x); &#125;</span><br><span class="line">double __attribute__((overloadable)) tgsin(double x) &#123;return sin(x); &#125;</span><br><span class="line">long double __attribute__((overloadable)) tgsin(long double x) &#123; return sinl(x); &#125;</span><br></pre></td></tr></table></figure>

<p>注意:  <code>overloadable</code>只能用于函数。你可以通过使用 <code>id</code> 和 <code>void *</code> 这种泛型的返回值和参数类型，在一定程度上实现方法声明的重载。</p>
<h2 id="pragma-代码整理"><a href="#pragma-代码整理" class="headerlink" title="#pragma 代码整理"></a>#pragma 代码整理</h2><h3 id="pragma-mark-lt-标签文本-gt"><a href="#pragma-mark-lt-标签文本-gt" class="headerlink" title="#pragma mark - &lt;#标签文本#&gt;"></a>#pragma mark - &lt;#标签文本#&gt;</h3><p>e.g.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#pragma mark - &lt;#title#&gt;</span><br></pre></td></tr></table></figure>



<h3 id="pragma-GCC-warning-“-lt-警告文本-gt-”"><a href="#pragma-GCC-warning-“-lt-警告文本-gt-”" class="headerlink" title="#pragma GCC warning “&lt;#警告文本#&gt;”"></a>#pragma GCC warning “&lt;#警告文本#&gt;”</h3><p>e.g.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#pragma GCC warning &quot;TODO: implemente here&quot;</span><br></pre></td></tr></table></figure>



<h3 id="pragma-clang-diagnostic-push-ignored-“”-pop"><a href="#pragma-clang-diagnostic-push-ignored-“”-pop" class="headerlink" title="#pragma clang diagnostic push / ignored “” / pop"></a>#pragma clang diagnostic push / ignored “” / pop</h3><p>e.g.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#pragma clang diagnostic push</span><br><span class="line">#pragma clang diagnostic ignored &quot;-Warc-retain-cycles&quot;</span><br><span class="line">&#x2F;&#x2F; 需要被忽略参数循环饮用警告的代码</span><br><span class="line">&#x2F;*</span><br><span class="line">self.completionBlock &#x3D; ^&#123;</span><br><span class="line">	&#x2F;&#x2F; ...</span><br><span class="line">&#125;</span><br><span class="line">*&#x2F;</span><br><span class="line">#pragma clang diagnostic pop</span><br></pre></td></tr></table></figure>



<h2 id="BOOL-bool-Boolean-NSCFBoolean"><a href="#BOOL-bool-Boolean-NSCFBoolean" class="headerlink" title="BOOL / bool / Boolean / NSCFBoolean"></a>BOOL / bool / Boolean / NSCFBoolean</h2><blockquote>
<p><a target="_blank" rel="noopener" href="https://nshipster.cn/bool/">https://nshipster.cn/bool/</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>Name</th>
<th>Typedef</tt></th>
<th>Header</th>
<th>True Value</th>
<th>False Value</th>
</tr>
</thead>
<tbody><tr>
<td>Bool</td>
<td>signed char</td>
<td>objc.h</td>
<td>YES</td>
<td>NO</td>
</tr>
<tr>
<td>bool</td>
<td>_Bool(int)</td>
<td>stdbool.h</td>
<td>true</td>
<td>false</td>
</tr>
<tr>
<td>Boolean</td>
<td>unsigned char</td>
<td>MacTypes.h</td>
<td>TRUE</td>
<td>FALSE</td>
</tr>
<tr>
<td>NSNumber</td>
<td>__NSCFBoolean</td>
<td>Foundation.h</td>
<td>@(YES)</td>
<td>@(NO)</td>
</tr>
<tr>
<td>CFBooleanRef</td>
<td>struct</td>
<td>CoreFoundation.h</td>
<td>kCFBooleanTrue</td>
<td>kCFBooleanFalse</td>
</tr>
</tbody></table>
<h2 id="指针-amp-和"><a href="#指针-amp-和" class="headerlink" title="指针 &amp; 和 *"></a>指针 &amp; 和 *</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString * a;</span><br></pre></td></tr></table></figure>

<p>a: 指向NSString实例对象a的指针（在使用时，对a的操作被解读为调用实例对象的get/set和其他实例方法调用）</p>
<p>*a: 实力对象a指向的数据</p>
<p>&amp;a: 指针本身（指针数据）</p>
<h2 id="XIB-布局问题"><a href="#XIB-布局问题" class="headerlink" title="XIB 布局问题"></a>XIB 布局问题</h2><p>通过xib 加载的文档在viewDidLoad中加载的时候并不会去布局frame ，只是拿到xib 中设置的大小属性，只有在 viewDidLayoutSubViews 里才会去根据布局去确定控件的最终尺寸(不过添加view 的操作不能放在这里，因为这个方法会调用多次)</p>
<h2 id="NSOrderedSet"><a href="#NSOrderedSet" class="headerlink" title="NSOrderedSet"></a><code>NSOrderedSet</code></h2><h3 id="继承关系"><a href="#继承关系" class="headerlink" title="继承关系"></a>继承关系</h3><blockquote>
<p><code>NSOrderedSet</code> 不是 <code>NSSet</code> 的子类。</p>
</blockquote>
<p><code>NSObject</code> &lt;- <code>NSSet</code> &lt;- <code>NSMutableSet</code></p>
<p><code>NSObject</code> &lt;- <code>NSOrderdSet</code> &lt;- <code>NSMutableOrderedSet</code></p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>因为 <code>NSMutableOrderedSet</code> 既不是 <code>NSSet</code> 也不是 <code>NSMutableSet</code>，因此需要尽可能避免对 <code>NSOrderedSet</code> 的使用。这个类的主要使用场景在 CoreData。</p>
<h2 id="代码整理和优化"><a href="#代码整理和优化" class="headerlink" title="代码整理和优化"></a>代码整理和优化</h2><ol>
<li><p>View 重用</p>
<p>  在 View 结构相同，内容可以根据有限的几种数据类型变化时，可以通过：</p>
<ol>
<li><p>  枚举值；</p>
</li>
<li><p>  多个不同态的便利构造器（即使用<code>工厂方法</code>）；</p>
</li>
<li><p>   ViewModel + 便利构造器</p>
</li>
</ol>
<pre><code>   来解耦数据代码和视图代码。
</code></pre>
</li>
</ol>
<h2 id="不常用属性"><a href="#不常用属性" class="headerlink" title="不常用属性"></a>不常用属性</h2><ol>
<li><p><code>isViewLoaded</code></p>
<blockquote>
<p>  Use isViewLoaded to check if a view is currently loaded into memory.</p>
</blockquote>
</li>
</ol>
<h2 id="不常用info-plist配置项"><a href="#不常用info-plist配置项" class="headerlink" title="不常用info.plist配置项"></a>不常用info.plist配置项</h2><h3 id="Privacy"><a href="#Privacy" class="headerlink" title="Privacy"></a>Privacy</h3><ol>
<li><p>reminder 访问权限</p>
<p>  <code>Privacy - Reminders Usage Description</code> : <code>&lt;#Content for asking grant#&gt;</code></p>
<p>  e.g. <code>The app uses reminders to help you stay on track.</code></p>
</li>
</ol>
<h2 id="iOS-Debugging"><a href="#iOS-Debugging" class="headerlink" title="iOS Debugging"></a>iOS Debugging</h2><p>复现 -&gt; 获取崩溃原因 -&gt;  </p>
<h2 id="CloudKit"><a href="#CloudKit" class="headerlink" title="CloudKit"></a>CloudKit</h2><ol>
<li><p>  批处理直接通过存储协调器 <code>PersistentStoreCoordinator</code> 来操作，不经过上下文 -&gt; 上下文不同步更改批处理的变化。因此如果不对批处理做特别处理，app 并不会及时将批处理导致的数据变化在上下文中体现；</p>
</li>
<li><p>  在 App 启动，加载 <code>CoreData</code> 存储时，若手动创建 description (<code>NSPersistentStoreDescription</code>)，则数据库在云端将保存在 <code>App Group Container</code> 中，其他的 App 或 App Extension 也可以读取；</p>
</li>
<li><p>  对于使用了多个 <code>Configuration</code> 的 <code>CoreData</code> 数据库，可以只为需要的 <code>Configuration</code> 启用该功能</p>
</li>
</ol>
<h3 id="是否通过手动启用的方式启用持久化历史跟踪功能所产生的不同效果"><a href="#是否通过手动启用的方式启用持久化历史跟踪功能所产生的不同效果" class="headerlink" title="是否通过手动启用的方式启用持久化历史跟踪功能所产生的不同效果"></a>是否通过手动启用的方式启用持久化历史跟踪功能所产生的不同效果</h3><table>
<thead>
<tr>
<th>持久化历史跟踪开启方式</th>
<th>手动</th>
<th><code>NSPersistentCloudKitContainer</code></th>
</tr>
</thead>
<tbody><tr>
<td>不同</td>
<td>数据库变动会发送通知</td>
<td>数据库变动不发送通知，<code>CoreData</code> 内部处理数据变动</td>
</tr>
</tbody></table>
<h3 id="账号下-groupID-个数"><a href="#账号下-groupID-个数" class="headerlink" title="账号下 groupID 个数"></a>账号下 groupID 个数</h3><table>
<thead>
<tr>
<th>App 或 Extension个数 / 是否需要隔离数据</th>
<th align="center">隔离</th>
<th align="center">不隔离</th>
</tr>
</thead>
<tbody><tr>
<td>1 个</td>
<td align="center">一个 groupID</td>
<td align="center">一个 groupID</td>
</tr>
<tr>
<td>多个</td>
<td align="center">多个 groupID</td>
<td align="center">一个 groupID</td>
</tr>
</tbody></table>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://ryotrix.dev/2021/04/06/ARM%E5%8F%8A%E6%B1%87%E7%BC%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Lex">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/04/06/ARM%E5%8F%8A%E6%B1%87%E7%BC%96/" class="post-title-link" itemprop="url">ARM及汇编</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-04-06 14:21:55" itemprop="dateCreated datePublished" datetime="2021-04-06T14:21:55+00:00">2021-04-06</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-09-16 03:15:50" itemprop="dateModified" datetime="2021-09-16T03:15:50+00:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ARM-及-汇编"><a href="#ARM-及-汇编" class="headerlink" title="ARM 及 汇编"></a>ARM 及 汇编</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/82490125">https://zhuanlan.zhihu.com/p/82490125</a></p>
</blockquote>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gpa06f17azj30n10g9myn.jpg"></p>
<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><h3 id="数据传送指令"><a href="#数据传送指令" class="headerlink" title="数据传送指令"></a>数据传送指令</h3><h4 id="LDR-STR"><a href="#LDR-STR" class="headerlink" title="LDR/STR"></a>LDR/STR</h4><ol>
<li><p>x86 架构：</p>
<p>寄存器之间 / 寄存器和内存见可以使用 MOV 指令 ；</p>
<p>允许直接操作内存单元上的数据。</p>
</li>
<li><p>ARM架构：</p>
<p>寄存器之间传送数据使用 MOV / 寄存器和内存之间使用 LDR ( load ) 和 STR ( store )；</p>
<p><img src="https://pic1.zhimg.com/80/v2-effe338f1536cce9bf286280cf021de4_1440w.jpg" alt="img"></p>
<p>内存单元上的数据不允许被直接操作，必须先放到寄存器中。</p>
</li>
</ol>
<h4 id="LTM-STM"><a href="#LTM-STM" class="headerlink" title="LTM / STM"></a>LTM / STM</h4><p>一次加载 / 存储多个寄存器</p>
<h4 id="LTP-STP-armv8-x64"><a href="#LTP-STP-armv8-x64" class="headerlink" title="LTP / STP ( armv8 x64 )"></a>LTP / STP ( armv8 x64 )</h4><p>一次加载 / 存储<strong>最多两个</strong>寄存器</p>
<p>避免产生分散的突发传输( LTM / STM )，高效利用双 pipeline 特性。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/62ea9cfecf80">https://www.jianshu.com/p/62ea9cfecf80</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>


<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lex</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
